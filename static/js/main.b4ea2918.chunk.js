(this.webpackJsonpdowncloud=this.webpackJsonpdowncloud||[]).push([[0],{25:function(e,n,t){e.exports=t(45)},45:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"navigate",(function(){return I}));var r={};t.r(r),t.d(r,"authenticate",(function(){return B})),t.d(r,"getMe",(function(){return D})),t.d(r,"getTracks",(function(){return P})),t.d(r,"makeDownloadable",(function(){return G}));var o={};t.r(o),t.d(o,"authenticate",(function(){return J}));var c={};t.r(c),t.d(c,"path",(function(){return Y}));var l={};t.r(l),t.d(l,"token",(function(){return M})),t.d(l,"loading",(function(){return X})),t.d(l,"hasToken",(function(){return q})),t.d(l,"authenticated",(function(){return H}));var u={};t.r(u),t.d(u,"all",(function(){return W})),t.d(u,"loading",(function(){return Z}));var i={};t.r(i),t.d(i,"user",(function(){return $})),t.d(i,"loading",(function(){return ee}));var s={};t.r(s),t.d(s,"get",(function(){return ne}));var d={};t.r(d),t.d(d,"get",(function(){return te}));var m=t(0),f=t.n(m),p=t(10),E=t.n(p),h=t(4),g=t(2),b=t(1);function y(){const e=Object(g.a)(["\n  background-color: ",";\n  color: ",";\n  border: 0;\n\n  cursor: pointer;\n\n  padding: 0.75rem;\n\n  border-radius: 3px;\n\n  transition: all ease-in-out 0.2s;\n\n  margin-right: 10px;\n\n  :hover {\n    transform: scale(1.05);\n  }\n\n  :active,\n  :focus {\n    transform: scale(1);\n    background-color: transparent;\n    color: ",";\n    outline: 2px solid ",";\n  }\n"]);return y=function(){return e},e}var k=b.default.button(y(),e=>e.theme.primary,e=>e.theme.light,e=>e.theme.primary,e=>e.theme.primary),v=t(7);function O(){const e=Object(g.a)(["\n  font-size: 1.15rem;\n"]);return O=function(){return e},e}function w(){const e=Object(g.a)(["\n  font-size: 1.3rem;\n"]);return w=function(){return e},e}function j(){const e=Object(g.a)(["\n  font-size: 1.6rem;\n"]);return j=function(){return e},e}const S=b.default.h1(j()),x=b.default.h2(w()),C=b.default.h3(O()),T={h1:S,h2:x,h3:C};var _=e=>{let n=e.children,t=e.type,a=Object(v.a)(e,["children","type"]);return f.a.createElement(S,Object.assign({as:T[t]},a),n)};function R(){const e=Object(g.a)(["\n  color: ",";\n  font-weight: bold;\n  text-decoration: none;\n\n  border: 0;\n  background: none transparent;\n\n  padding: 0;\n  margin: 0;\n\n  :hover,\n  :active {\n    color: ",";\n    cursor: pointer;\n  }\n"]);return R=function(){return e},e}const L=b.default.a(R(),e=>e.theme.primary,e=>e.theme.dark),A=e=>{let n=e.as,t=e.external,a=e.children,r=Object(v.a)(e,["as","external","children"]),o={};return t&&(o={target:"_blank",rel:"noopener noreferrer"}),f.a.createElement(L,Object.assign({as:n},o,r),a)};A.defaultProps={external:!1,as:"a"};var U=A;const I=e=>({type:"ROUTER_NAVIGATE",path:e});var N=t(3),F=t.n(N),V=t(6),z=t(11);const K=t(37);K.initialize({client_id:"c205c3e2eedb509dff1c1147765b055d",redirect_uri:"https://downcloud.ruud.ninja/callback.html"});const B=function(){var e=Object(V.a)(F.a.mark((function e(){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.connect();case 2:return n=e.sent,e.abrupt("return",n.oauth_token);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(V.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.get("/me"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(V.a)(F.a.mark((function e(){var n,t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.get("/me/tracks",{limit:50,linked_partitioning:1});case 2:n=e.sent,t=[];case 4:if(t=t.concat(n.collection),!n.next_href){e.next=13;break}return a=n.next_href.replace("https://api.soundcloud.com",""),e.next=10,K.get(a);case 10:n=e.sent,e.next=14;break;case 13:return e.abrupt("return",t);case 14:e.next=4;break;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=(e,n)=>{const t=e.includes("?")?"&":"?";return e+t+"oauth_token="+n},Q=Object(z.a)({},r,{},{}),J=()=>function(){var e=Object(V.a)(F.a.mark((function e(n){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"REQUEST_ACCESS_TOKEN"}),e.next=3,Q.authenticate();case 3:return t=e.sent,e.abrupt("return",n({type:"RECEIVE_ACCESS_TOKEN",token:t}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=e=>e.router.path,M=e=>e.session.token,X=e=>e.session.loading,q=e=>null!=M(e),H=q,W=e=>e.tracks.tracks,Z=e=>e.tracks.loading,$=e=>e.user.user,ee=e=>e.user.loading,ne=()=>function(){var e=Object(V.a)(F.a.mark((function e(n,t){var a,r,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"REQUEST_TRACKS"}),e.next=3,Q.getTracks();case 3:return a=e.sent,r=l.token(t()),o=a.map(e=>Object(z.a)({},e,{download:Q.makeDownloadable(e.download_url,r)})),e.abrupt("return",n({type:"RECEIVE_TRACKS",tracks:o}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),te=()=>function(){var e=Object(V.a)(F.a.mark((function e(n){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"REQUEST_USER"}),e.next=3,Q.getMe();case 3:return t=e.sent,e.abrupt("return",n({type:"RECEIVE_USER",user:t}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=e=>{let n=e.as,t=e.to,a=e.navigateTo,r=Object(v.a)(e,["as","to","navigateTo"]);return f.a.createElement(n,Object.assign({as:"button",onClick:e=>{e.preventDefault(),a(t)}},r))};ae.defaultProps={as:U};var re=Object(h.b)(null,e=>({navigateTo:n=>e(a.navigate(n))}))(ae),oe=t(12),ce=t.n(oe);function le(){const e=Object(g.a)(["\n  margin: 0 0 1.2rem;\n"]);return le=function(){return e},e}const ue=b.default.p(le());ue.propTypes={children:ce.a.node.isRequired};var ie=ue;function se(){const e=Object(g.a)(["\n  font-size: 0.7rem;\n  white-space: pre-wrap;\n"]);return se=function(){return e},e}const de=b.default.pre(se());var me=({children:e})=>{const n=JSON.stringify(e,null,2);return f.a.createElement(de,null,f.a.createElement("code",null,n))},fe=t(24);function pe(){const e=Object(g.a)(["\n  color: ",";\n  font-weight: bold;\n  text-decoration: none;\n\n  background-color: transparent;\n  border: 0;\n\n  padding: 0;\n  margin: 0;\n\n  display: block;\n\n  line-height: inherit;\n\n  :hover {\n    color: ",";\n    cursor: pointer;\n  }\n\n  :active,\n  :focus {\n    outline: 2px solid ",";\n  }\n"]);return pe=function(){return e},e}const Ee=b.default.button(pe(),e=>e.theme.primary,e=>e.theme.dark,e=>e.theme.gray),he=e=>{let n=e.open,t=e.label,a=e.children,r=Object(v.a)(e,["open","label","children"]);const o=Object(m.useState)(n),c=Object(fe.a)(o,2),l=c[0],u=c[1];return f.a.createElement("span",r,f.a.createElement(Ee,{onClick:()=>{u(!l)}},t," [",l?"-":"+","]"),l&&a)};he.defaultProps={open:!1};var ge=he;function be(){const e=Object(g.a)(["\n  display: block;\n  position: relative;\n  width: 2rem;\n  height: 2rem;\n"]);return be=function(){return e},e}function ye(){const e=Object(g.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 100%;\n  background-color: ",";\n  opacity: 0.8;\n  animation: "," 1.5s ","s\n    cubic-bezier(0.53, 0.06, 0.5, 0.95) infinite;\n  transform: scale(0);\n  position: absolute;\n"]);return ye=function(){return e},e}function ke(){const e=Object(g.a)(["\n  0% {\n   transform: scale(0);\n  }\n\n  50% {\n  transform: scale(1);\n  }\n\n  100% {\n  transform: scale(0);\n  }\n"]);return ke=function(){return e},e}const ve=Object(b.keyframes)(ke()),Oe=b.default.div.attrs(({offset:e})=>({offset:e||0}))(ye(),e=>e.theme.primary,ve,e=>e.offset),we=b.default.div(be());var je=e=>{let n=Object.assign({},e);return f.a.createElement(we,n,f.a.createElement(Oe,null),f.a.createElement(Oe,{offset:.75}))};function Se(){const e=Object(g.a)(["\n  margin-bottom: 0.5rem;\n\n  ::before {\n    content: '\ud83c\udfb5';\n    padding-right: 0.5rem;\n  }\n"]);return Se=function(){return e},e}function xe(){const e=Object(g.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"]);return xe=function(){return e},e}const Ce=b.default.ul(xe()),Te=b.default.li(Se());var _e=({children:e})=>f.a.createElement(Ce,null,f.a.Children.map(e,(e,n)=>f.a.createElement(Te,{key:n},e))),Re=[{date:"2020-05-22",version:"3.2.0",content:"Removing some dependencies and unused code, and also updating React code to be more modern and use hooks instead of classes."},{date:"2020-03-29",version:"3.1.1",content:"Calmed down the use of emojis after realizing we don't live in 2018 anymore. Also trying to keep things up to date and fixing a possible issue with private tracks download links."},{date:"2018-11-02",version:"2.6.0",content:"Added new page for accessing user data and raw track data. Prepared for making it possible to get even more data and display it in an ok way. Also added this fancy news thing. \ud83c\udf89"}];function Le(){const e=Object(g.a)(["\n  list-style-type: none;\n"]);return Le=function(){return e},e}function Ae(){const e=Object(g.a)(["\n  margin: 0;\n  padding: 0;\n"]);return Ae=function(){return e},e}function Ue(){const e=Object(g.a)(["\n  margin-top: 2rem;\n  font-size: 0.8rem;\n\n  padding-top: 2rem;\n  border-top: 1px solid ",";\n"]);return Ue=function(){return e},e}const Ie=b.default.footer(Ue(),e=>e.theme.dark),Ne=b.default.ul(Ae()),Fe=b.default.li(Le());var Ve=()=>f.a.createElement(Ie,null,f.a.createElement(ie,null,f.a.createElement(U,{href:"https://www.buymeacoffee.com/tomas",external:!0},"Buy me a coffee?")),f.a.createElement(ie,null,f.a.createElement(U,{href:"https://soundcloud.com/autodrums",external:!0},"@autodrums")," ","on Soundcloud",f.a.createElement("br",null),f.a.createElement(U,{href:"https://github.com/tomasruud",external:!0},"@tomasruud")," ","on Github"),f.a.createElement(ge,{label:"Changelog"},f.a.createElement(Ne,null,Re.map((e,n)=>f.a.createElement(Fe,{key:n},f.a.createElement("strong",null,"v",e.version)," (",e.date,")",f.a.createElement(ie,null,e.content))))),f.a.createElement(ge,{label:"Legal stuff"},f.a.createElement(ie,null,"None of your data will be stored anywhere, everything is done in your browser session and destroyed once you exit/refresh the site.")),f.a.createElement(ie,{style:{marginBottom:0}},f.a.createElement(U,{href:"https://github.com/tomasruud/downcloud/issues",external:!0},"Report issues"),f.a.createElement("br",null),"Version ","3.2.0"));function ze(){const e=Object(g.a)(["\n  padding: 0;\n"]);return ze=function(){return e},e}function Ke(){const e=Object(g.a)(["\n  max-width: 600px;\n  margin: 3rem auto 3rem;\n"]);return Ke=function(){return e},e}const Be=b.default.div(Ke()),De=b.default.main(ze());var Pe=({children:e})=>f.a.createElement(Be,null,f.a.createElement(De,null,e),f.a.createElement(Ve,null)),Ge=t(21);function Qe(){const e=Object(g.a)(["\n  ::selection {\n    background-color: ",";\n    color: ",";\n  }\n\n  html {\n    font-size: 125%;\n    line-height: 1.61;\n  }\n\n  body {\n    color: ",";\n    font-family: 'Lato', sans-serif;\n    overflow-y: scroll;\n    background-color: ",";\n    padding: 0 1rem;\n  }\n"]);return Qe=function(){return e},e}const Je={primary:"#c43c00",light:"#fff",dark:"#000",lightTint:"#fff5ed",gray:"#ddd"},Ye=Object(b.createGlobalStyle)(Qe(),e=>e.theme.primary,e=>e.theme.light,e=>e.theme.dark,e=>e.theme.lightTint);var Me=({children:e})=>f.a.createElement(b.ThemeProvider,{theme:Je},f.a.createElement(f.a.Fragment,null,f.a.createElement(Ge.Normalize,null),f.a.createElement(Ye,null),e));const Xe=()=>window.location.reload();var qe=Object(h.b)(e=>({user:i.user(e),isLoading:i.loading(e)}),e=>({fetchUser:()=>e(d.get())}))(({isLoading:e,user:n,fetchUser:t})=>(Object(m.useLayoutEffect)(()=>{n||t()},[n,t]),e||!n?f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Gathering information..."),f.a.createElement(je,null)):f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Hey",!!n.permalink&&" "+n.permalink,"!"),f.a.createElement(ie,null,"Select what data you want to view from the menu below. You can also"," ",f.a.createElement(U,{as:"button",onClick:Xe},"sign out")," ","and try again with a different account."),f.a.createElement(_e,null,f.a.createElement(U,{as:re,to:"/tracks"},"Tracks"),f.a.createElement(U,{as:re,to:"/tracks/raw"},"Raw track data (JSON)"),f.a.createElement(U,{as:re,to:"/user-data"},"User data (JSON)")))));var He=Object(h.b)(e=>({isLoading:l.loading(e)}),e=>({onLoginClick:()=>e(o.authenticate())}))(({isLoading:e,onLoginClick:n})=>e?f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Signing you in..."),f.a.createElement(je,null)):f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Downcloud"),f.a.createElement(ie,null,"This app helps you download your own Souncloud tracks as original, uncompressed files."),f.a.createElement(k,{onClick:n},"Sign in with Soundcloud")," to get started"));var We=Object(h.b)(e=>({tracks:u.all(e),isLoading:u.loading(e)}),e=>({fetchTracks:()=>e(s.get())}))(({tracks:e,isLoading:n,fetchTracks:t})=>(Object(m.useLayoutEffect)(()=>{e||t()},[e,t]),n?f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Loading data"),f.a.createElement(je,null)):f.a.createElement(f.a.Fragment,null,f.a.createElement(U,{as:re,to:"/",style:{marginBottom:"1rem"}},"Back"),f.a.createElement(_,{type:"h1"},"Your raw track data"),f.a.createElement(me,null,e)))),Ze=t(22),$e=t.n(Ze);var en=Object(h.b)(e=>({tracks:u.all(e),isLoading:u.loading(e)}),e=>({fetchTracks:()=>e(s.get())}))(({tracks:e,isLoading:n,fetchTracks:t})=>{if(Object(m.useLayoutEffect)(()=>{e||t()},[e,t]),n)return f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Loading your tracks"),f.a.createElement(je,null));const a=f.a.createElement(f.a.Fragment,null,f.a.createElement(U,{as:re,to:"/",style:{marginBottom:"1rem"}},"Back"),f.a.createElement(_,{type:"h1"},"Your tracks"));return!e||e.length<1?f.a.createElement(f.a.Fragment,null,a,f.a.createElement(ie,null,"Could not find any tracks")):f.a.createElement(f.a.Fragment,null,a,f.a.createElement(ie,null,"Click on a track name to start downloading."),f.a.createElement(ie,null,"If you're feeling lucky, you can try to"," ",f.a.createElement(U,{onClick:n=>{n.preventDefault(),$e()(e.map(e=>e.download))}},"download all tracks at once"),". Please note that this feature is experimental and may not work! If you're using Chrome, try disabling the option \"Ask where to save each file before downloading\" if it's not working properly."),f.a.createElement(_e,null,e.map((e,n)=>f.a.createElement(U,{key:n,href:e.download,external:!0},e.title))))});var nn=Object(h.b)(e=>({user:i.user(e),isLoading:i.loading(e)}),e=>({fetchUser:()=>e(d.get())}))(({isLoading:e,user:n,fetchUser:t})=>(Object(m.useLayoutEffect)(()=>{n||t()},[n,t]),e?f.a.createElement(f.a.Fragment,null,f.a.createElement(_,{type:"h1"},"Gathering information"),f.a.createElement(je,null)):f.a.createElement(f.a.Fragment,null,f.a.createElement(U,{as:re,to:"/",style:{marginBottom:"1rem"}},"Back"),f.a.createElement(_,{type:"h1"},"Your user data"),f.a.createElement(me,null,n))));var tn=Object(h.b)(e=>({path:c.path(e),isAuthenticated:l.authenticated(e)}))(({path:e,isAuthenticated:n})=>{if(n)switch(e){case"/user-data":return f.a.createElement(nn,null);case"/tracks":return f.a.createElement(en,null);case"/tracks/raw":return f.a.createElement(We,null);case"/dashboard":default:return f.a.createElement(qe,null)}return f.a.createElement(He,null)});var an=()=>f.a.createElement(Me,null,f.a.createElement(Pe,null,f.a.createElement(tn,null))),rn=t(5),on=t(23);var cn=Object(rn.c)({path:(e="",n)=>"ROUTER_NAVIGATE"===n.type?n.path:e});var ln=Object(rn.c)({loading:(e=!1,n)=>"REQUEST_ACCESS_TOKEN"===n.type||"RECEIVE_ACCESS_TOKEN"!==n.type&&e,token:(e=null,n)=>"RECEIVE_ACCESS_TOKEN"===n.type?n.token:e});var un=Object(rn.c)({loading:(e=!1,n)=>"REQUEST_TRACKS"===n.type||"RECEIVE_TRACKS"!==n.type&&e,tracks:(e=null,n)=>"RECEIVE_TRACKS"===n.type?n.tracks:e});var sn=Object(rn.c)({loading:(e=!1,n)=>"REQUEST_USER"===n.type||"RECEIVE_USER"!==n.type&&e,user:(e=null,n)=>"RECEIVE_USER"===n.type?n.user:e}),dn=Object(rn.c)({router:cn,session:ln,tracks:un,user:sn});const mn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||rn.d;var fn=Object(rn.e)(dn,mn(Object(rn.a)(on.a)));E.a.render(f.a.createElement(h.a,{store:fn},f.a.createElement(an,null)),document.getElementById("downcloud"))}},[[25,1,2]]]);
//# sourceMappingURL=main.b4ea2918.chunk.js.map